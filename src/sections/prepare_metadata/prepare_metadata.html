<!DOCTYPE html>
<template class="task-template">
  <section id="prepare_metadata-section" class="section js-section u-category-windows">
    <header class="section-header">

      <div class="section-wrapper">
        <h1>
          <svg style="margin-right: 10px; margin-bottom:-3px;" width="22px" height="22px" viewBox="0 0 16 16" class="bi bi-file-text-fill" fill=var(--color-teal) xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>
          </svg>
          Prepare Metadata
        </h1>
        <h3>This interface will help you in preparing the SPARC metadata files (currently submission and dataset_description files) for your dataset.
         </h3>
      </div>
    </header>

    <div class="demo">
      <div class="demo-wrapper">
        <button id="button-save-grant-info-demo-toggle" class="js-container-target demo-toggle-button">Connect to Airtable
          <a style="padding:0px 0px 0px 10px" class="github-wiki-link" href="https://github.com/bvhpatel/SODA/wiki/Connect-to-Airtable">
            <img class="nav-video" src="assets/img/documentation-icon.png">
          </a>
          <div class="demo-meta u-avoid-clicks"> Connect your Airtable account with SODA  </div>
        </button>

      <div class="demo-box">
        <div id="div-add-airtable-key">
          <h5> Enter your Airtable API key and specify a key name to connect your Airtable account:
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                SODA make use of the <a href="https://airtable.com/tblFGEvUoTbbG6tJy/viwWBpydzfYQsvNFz?blocks=hide" style="color:white;"> SPARC Airtable sheet</a> to automatically get award numbers and contributors information such that you don't have to enter them manually in your metadata files. To enable this, you have to connect your Airtable account with SODA (only necessary one time).
                <br><br>
                To achieve that, create an Airtable account and request access to the <a href="https://airtable.com/tblFGEvUoTbbG6tJy/viwWBpydzfYQsvNFz?blocks=hide" style="color:white;">SPARC Airtable sheet</a> if you have not already (contact Dr. Charles Horn at <a href="mailto:chorn@pitt.edu" style='color: white'> chorn@pitt.edu</a>)
                <br><br>
                Then, provide a keyname of your choice and enter your Airtable API key in the dedicated SODA interface. Checkout the <a href="https://support.airtable.com/hc/en-us/articles/219046777-How-do-I-get-my-API-key" style="color:white;"> Airtable Help page</a> to learn how to obtain or re-generate your API key.
<!--                 <br><br>
                The account will then be remembered by SODA for all subsequent uses and you can move on directly to the "Provide award information" feature. Note that the account key will be stored on your computer only, so neither the SODA Team nor anyone else besides you will have access to your Airtable account.
                <br><br>
                Please keep your group information up to date in the Airtable sheet, especially contributors' name, email, affiliation, and ORCID to help SODA help you! -->
              </span>
            </div>
          </h5> <br>

          <div class="form-container"><font color="black"> Key name: </font> </div>
          <div class="tooltipnew"><img class="info" src="assets/img/info.png">
            <span class="tooltiptext">
              Provide a name of your choice for your Airtable API Key. Your API Key will be stored under this key name.
            </span>
          </div>
          <div class="demo-controls">
            <input class="form-container-input-bf" id="airtable-key-name" />
          </div>
          <div class="form-container"><font color="black"> API Key: </font> </div>
          <div class="tooltipnew"><img class="info" src="assets/img/info.png">
            <span class="tooltiptext">
              To obtain or re-generate your API key to connect to SODA during your first use, check out the dedicated <a href="https://support.airtable.com/hc/en-us/articles/219046777-How-do-I-get-my-API-key" style="color:white;"> Airtable Help page</a>. Note that the key will be stored locally on your computer and the SODA Team will not have access to it.
            </span>
          </div>
          <div class="demo-controls">
            <input type="password" class="form-container-input-bf" id="airtable-api-key" />
          </div>
          <br>
          <div class="demo-controls">
            <button class="demo-button" id="button-add-airtable-key"> Connect </button>
            <div style="display:none" id="div-airtable-connect-load-progress" class="progressdiv">
              <div class="indeterminatebar"></div>
            </div>
            <p id="para-add-airtable-key"  style="float:right;margin: 0 0;padding: 3 3;"></p>
          </div>

         </div>
       </div>
      </div>
    </div>

<!-- Provide info about award -->

    <div class="demo">
      <div class="demo-wrapper">
        <button id="button-save-grant-info-demo-toggle" class="js-container-target demo-toggle-button">Provide award information
          <a style="padding:0px 0px 0px 10px" class="github-wiki-link" href="https://github.com/bvhpatel/SODA/wiki/Provide-award-information">
            <img class="nav-video" src="assets/img/documentation-icon.png">
          </a>
          <div class="demo-meta u-avoid-clicks"> Provide relevant information about your SPARC award </div>
        </button>

      <div class="demo-box">
          <form id = 'grant-information'>
            <div style = "padding:10px 0px">
              <input class="input-switch" id="addGrant" type="radio" name="tabs">
              <label class="label-switch" style="width:220px;font-size:15px;padding-top: 6px;" for="addGrant">Add SPARC award(s)</label>
              <input class="input-switch" id="selectGrant" type="radio" name="tabs" checked>
              <label class="label-switch" style="width:230px;font-size:15px;padding-top: 6px;"for="selectGrant">View your SPARC award(s)</label>
            </div>
         </form>

          <div id="div-add-new-grant" class="datasetsaveoption" style="display:none;margin-top:70px;margin-left:10px">

            <h5> Airtable connection status (<button id="button-refresh-airtable-status" style="font-size: 10; border: none"> Refresh </button>):

            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                If SODA fails to connect to your Airtable account, make sure that you have entered a valid API key in the "Connect to Airtable" feature or that you are connected to the internet.
              </span>
            </div>
            </h5>

            <span style="color:black;margin-top:5px" id="para-add-airtable-key-status"></span>

            <div class="demo-controls" id="div-search-for-awards" style="display:none; margin-top: 25px">
              <h5> Search for award(s):
                <div class="tooltipnew"><img class="info" src="assets/img/info.png">
                  <span class="tooltiptext">
                    The list of active SPARC awards in this dropdown list is generated automatically from the SPARC Airtable sheet once SODA is connected with your Airtable account. Select your award(s) and click on "Add" to save it/them in SODA. You will only have to do this once. You can then view your award(s) and provide additional information in the "View you SPARC award(s)" tab.
                  </span>
                </div>
              </h5>
              <div class="demo-controls">
                <textarea id="input-grant-info" list="select-grant-info-list" class="form-container-input-bf" style="width:90%;float:left;height:35px !important;padding:6px 8px;margin-top:15px"></textarea>
                <!-- <datalist id="select-grant-info-list" style="overflow-x: hidden; overflow: scroll; width: 100%; height:500px">
                  <option disabled>Select</option>
                </datalist> -->
                <button id="button-add-award" class="demo-button" style="height:35px;width:150px;padding:0 0;margin: 0 0 0 10px">Add</button>
              </div>
              <p style="margin-top:7px;margin-bottom:7px" id="para-save-award-info"></p>
            </div>
            <div id="div-awards-load-progress" class="progressdiv">
              <div class="indeterminatebar"></div>
            </div>
          </div>

          <div id="div-select-existing-grant" class="datasetsaveoption" style="display:block;margin-top:70px;margin-left:10px">
            <h5> Select award:
              <div class="tooltipnew"><img class="info" src="assets/img/info.png">
                <span class="tooltiptext">
                  Select an award to provide additional information about it. You can delete an existing award from the list by clicking on the "Delete award" button. This will remove the award from your list of awards as well as delete any associated milestone information.
                </span>
              </div>
            </h5>
            <div class="demo-controls" style="margin-top:20px">
              <select id="select-presaved-grant-info-list" class="my-dropdown-metadata" style="width:100%; height:35px;line-height:2;padding: 6px 8px; font-size:14px">
                <option value="Select">Select an option</option>
              </select>
              <br>
              <button id="button-delete-award" class="demo-button" style="height:35px;width:150px;padding:0 0;margin-left:10px">Delete award</button>
            </div>
            <div>
              <p id='para-delete-award-status' style="margin:10px 0px"></p>
            </div>
          <div class="demo-controls" id="div-milestone-info">
            <div id="div-show-milestone-info-no-existing" class="pathtable" style="display:none;width:100%">
              <h5>Data Deliverables document:
                <div class="tooltipnew"><img class="info" src="assets/img/info.png">
                  <span class="tooltiptext">
                  The milestones and associated datasets as agreed between awardees and SPARC are summarized in a document called Data Deliverables document (usually kept by the PI of the SPARC award or the award manager).
                  <br><br>
                  Import that document in SODA to automatically extract milestones and associated information which will be used to help you prepare the submission metadata file in the next section. You will have to do this only once and it will be then remembered by SODA for subsequent use.
                  <br><br>
                  Note that you can import a new Dataset Deliverable to replace an existing one.
                  <br><br>
                  Click <a href=# id="a-DDD" style="color:white;">here</a> to download a template of the Data Deliverables document to see the expected format. Most importantly, at least one table with these exact three hearders is expected: "Related milestone, aim, or task", "Description of data", "Expected date of completion".
                  <br><br>
                  </span>
                </div>
              </h5>
              <h5></h5>
              <div class="container-milestone-upload" style="display:flex;">
                <!-- <button type="button" style="width:40%;float:left" class="button-milestone-upload">Select a file</button> -->
                <input class="milestone-upload-text" id="input-milestone-select" style="width:50%;text-align:center;height:40px" type="text" readonly placeholder="Select a file">
                <button id="button-import-milestone" type="button" style="width:15%;height:40px" class="button-milestone-upload"><b>Import</b></button>
                <p id="para-milestone-document-info" style="float:right;margin-top:0;margin-left:7px;padding: 0 0;height:34px;width:300px;text-align:left;vertical-align:middle;"></p>
              </div>
              <p id="para-milestone-document-info-long" style="display:none;margin-top:5px;margin-bottom:0;text-align:left;padding: 0 0"></p>
            </div>
            </div>
            <br>
            <div id="div-show-current-milestones" style="display:none;width:100%">
              <h5>Current Milestone Information:
                <div class="tooltipnew"><img class="info" src="assets/img/info.png">
                  <span class="tooltiptext">
                  This table shows you the information extracted from your Data Deliverables document. It will be used in the next feature to help you generate your submission file.
                  </span>
                </div>
              </h5>

              <h5></h5>
              <p style="display:none" id="para-current-milestones"></p>
              <table id="table-current-milestones">
                <tr>
                  <th style="width:45%">Related milestone, aim, or task</th>
                  <th style="width:45%">Description of data</th>
                  <th style="width:10%">Expected date of completion</th>
               </tr>
              </table>
            </div>

          </div>

        </div>
      </div>
    </div>

    <!-- Prepare submission file -->
    <div class="demo">
      <div class="demo-wrapper">
        <button id="button-submission-demo-toggle" class="js-container-target demo-toggle-button"> Prepare your submission file
          <a style="padding:0px 0px 0px 10px" class="github-wiki-link" href="https://github.com/bvhpatel/SODA/wiki/Prepare-your-submission-file">
            <img class="nav-video" src="assets/img/documentation-icon.png">
          </a>
          <div class="demo-meta u-avoid-clicks"> The submission file is mandatory for all SPARC datasets </div>
        </button>
      <div class="demo-box">
        <div class="demo-controls">
        <div id="div-generate-submission-file" class="pathtable" style="width:100%;">
          <h5 align="center"> Populate the items below and generate your submission file</h5>
          <br>
          <div class="form-container-ds"><font color="black"> SPARC Award Number: </font> </div>
          <div class="tooltipnew"><img class="info" src="assets/img/info.png" style="visibility:hidden">
            <span class="tooltiptext" style="display:none;" class="tooltiptext">
            </span>
          </div>
          <div class="demo-controls">
          <select id="presaved-award-list" class="form-container-input-bf" style="line-height: 2;font-size:13px;height:28px;">
            <option value="Select">Select an option</option>
          </select>
          </div>
          <div class="form-container-ds"> <font color="black"> Milestone: </font> </div>
           <div class="tooltipnew"><img class="info" src="assets/img/info.png">
            <span class="tooltiptext">
              Choose a milestone from the list compiled from the Data Deliverables document imported to SODA in the feature "Provide award information". Choose "Not specified in the Data Deliverables document" if this dataset isn't associated with any milestone initially planned.
            </span>
          </div>
          <div class="demo-controls">
            <textarea id="selected-milestone" class="form-container-textarea" style="width: 95%"></textarea>
            <!-- <select id="selected-milestone" class="form-container-input-bf" style="font-size:13px;line-height: 2;height:28px; width: 95%">
              <option value="Select">Select an option</option>
              <option value="N/A">Not specified in the Data Deliverables document</option>
            </select> -->
          </div>
          <div class="form-container-ds"><font color="black"> Completion Date: </font> </div>
          <div class="tooltipnew"><img class="info" src="assets/img/info.png">
            <span class="tooltiptext">
              This date is filled automatically using extracted information from the Data Deliverables document and based on the milestone/description of data selected above.
            </span>
          </div>
          <div class="demo-controls">
            <select style="font-size:13px;height:28px;width:100%" id="selected-milestone-date" class="form-container-input-bf"></select>
          </div>

          <div style='display:none;' id="div-submission-enter-different-date-1" class="form-container-ds"><font color="black"> Enter Date: </font> </div>
          <div class="tooltipnew" style='display:none;' id="div-submission-enter-different-date-2"><img class="info" src="assets/img/info.png">
            <span class="tooltiptext">
              This date is filled automatically using extracted information from the Data Deliverables document and based on the milestone/description of data selected above.
            </span>
          </div>
          <div class="demo-controls" style='display:none;' id="div-submission-enter-different-date-3">
            <input type="date" id="input-milestone-date" style="font-family: inherit" class="form-container-input-bf"></input>
          </div>

          <br>
          <div align="right">
            <button class="demo-button" style="margin-right:0;width:140px;float:right" id="generate-submission"> Generate </button>
            <p id='para-save-submission-status' style="float:right;padding-top:0;margin-right:5px;margin-bottom:0;margin-top:0"></p>
          </div>
        </div>
        </div>
        </div>
      </div>
    </div>
  <!-- Prepare dataset-description file -->
    <div class="demo">
      <div class="demo-wrapper">
        <button id="button-ds-description-demo-toggle" class="js-container-target demo-toggle-button"> Prepare your dataset description file
          <a style="padding:0px 0px 0px 10px" class="github-wiki-link" href="https://github.com/bvhpatel/SODA/wiki/Prepare-your-dataset-description-file">
            <img class="nav-video" src="assets/img/documentation-icon.png">
          </a>
          <div class="demo-meta u-avoid-clicks"> The dataset description file is mandatory for all SPARC datasets </div>
        </button>
        <div class="demo-box" style="width:100%">
          <h5 align="center"> Complete the different sections (items marked with * are mandatory) and generate your dataset description file</h5>
          <div class="multisteps-form__progress" style="margin-top:20px">
            <button id="ds-dataset-info" class="multisteps-form__progress-btn js-active1" style="font-size: 15px" type="button" title="Dataset Info"><b>Dataset Info</b></button>
            <button id="ds-contributor-info"class="multisteps-form__progress-btn" style="font-size: 15px" type="button" title="Con Info"><b>Contributor Info</b></button>
            <button id="ds-misc-info"class="multisteps-form__progress-btn" style="font-size: 15px" type="button" title="Other Info"><b>Article(s) and protocol(s)</b></button>
            <button id="ds-optional-info" class="multisteps-form__progress-btn" style="font-size: 15px" type="button" title="Optional Info"><b>Completeness Info</b></button>
          </div>

          <!-- Dataset Info -->
          <div style="display:block;width:90%;margin: 0 auto;font-size:13px" id="div-ds-dataset-info" class="datasetsaveoption">
            <br><br><br>
            <div class="form-container-ds"><font color="black"> Name*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Select the Blackfynn dataset where the dataset description file will be uploaded. You can create a new dataset from the "Manage Datasets" section under the "Handle datasets" feature.
              </span>
            </div>
            <div class="demo-controls">
              <select id="ds-name" class="form-container-input-bf" style="width: 100%;font-size:13px;line-height:1em;height:28px;padding-bottom: 5px;">
                <!-- <option value="Loading..."></option> -->
              </select>
            </div>
            <div class="form-container-ds"><font color="black"> Description*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                The description will be automatically pulled from the description associated with the selected Blackfynn dataset. You can add/edit the description from the the "Manage Datasets" section under the "Add metadata to dataset" feature.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="ds-description" class="form-container-textarea" disabled></textarea>
            </div>
            <div class="form-container-ds"><font color="black"> Keywords*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="z-index:2;">
                A set of 3-5 keywords other than the above that will aid in search. Hit "Enter" on your keyboard after each entry to register it.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="ds-keywords" class="form-container-textarea" style="border-left: 2px solid #258193;"> </textarea>
            </div>
            <div class="form-container-ds"><font color="black"> Number of subjects*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Number of unique subjects in this dataset, should match subjects metadata file. Must be greater or equal to 1.
              </span>
            </div>
            <div class="demo-controls">
              <input id="ds-subjects-no" type="number" class="form-container-input-bf"/>
            </div>
            <div class="form-container-ds"><font color="black"> Number of samples*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Number of unique samples in this dataset, should match samples metadata file. Set to zero if there are no samples.
              </span>
            </div>
            <div class="demo-controls">
              <input id="ds-samples-no" type="number" class="form-container-input-bf"/>
            </div>
            <br><br><br>
            <div align="right">
              <button id="button-next-ds-contributor"class="demo-button-prev-next">Next</button>
            </div>
          </div>

          <!-- Contributor Info -->
          <div id="div-ds-contributor-info" style="width:90%;margin: 0 auto;font-size:13px" class="datasetsaveoption">
            <br>
          <h5 align="center">Award Information </h5>
          <br>
            <!-- <h5 align="center">Populate the fields below with information about the contributors: </h5> -->
            <div class="form-container-ds"><font color="black"> SPARC Award*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                SPARC award associated with the dataset.
              </span>
            </div>
            <div class="demo-controls">
            <select id="ds-description-award-list" class="form-container-input-bf" style="font-size:13px;line-height:2;height:28px">
              <option value="Select">Select an option</option>
            </select>
            </div>
            <div class="form-container-ds"><font color="black"> Other funding source(s): </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="z-index:2;">
                Other funding sources, if any. Hit 'Enter' on your keyboard after typing each. Leave empty if none.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="ds-other-funding" class="form-container-textarea" style="border-left: 2px solid #258193;"> </textarea>
            </div>
            <div class="form-container-ds"><font color="black"> Acknowledgments: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Acknowledgments beyond funding and contributors, if any. Leave empty if none.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="ds-description-acknowledgments" class="form-container-textarea"> </textarea>
            </div>
            <p><h5 align="center">Contributors Information </h5></p>
            <div class="form-container-ds"><font color="black"> Contributor*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Name of any contributor to the dataset. This individual need not have been authors on any publications describing the data,
                but should be acknowledged for their role in producing and publishing the data set.
                <br><br>
                The "Contributor" list is compiled from the SPARC Airtable sheet based on the SPARC award selected. Select one Contributor to get the ORCID ID, Contributor Affiliation, and Contributor Role populated automatically (if specified in the SPARC Airtable Sheet).
                <br><br>
                 Select "Other contributors" in the "Contributors" dropdown list if you'd like to enter a Contributor name manually (although we suggest to enter them directly in the SPARC Airtable - restart SODA to see them in the list).
              </span>
            </div>
            <div class="demo-controls">
            <select id="ds-description-contributor-list" class="form-container-input-bf" style="font-size:13px;line-height: 2;height:28px">
              <option>Select an option</option>
            </select>
            </div>
            <!-- This div is for Other collaborators input -->
            <div class="form-container-ds" id="div-other-collaborators-1" style="display:none;"><font color="black"> Collaborator name*: </font> </div>
            <div class="tooltipnew" id="div-other-collaborators-3" style="display:none;"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px; font-weight: bold">
                Name of a collaborator to the dataset not listed in the SPARC Airtable sheet. Must be in the format "Last, First".
              </span>
            </div>
            <div class="demo-controls" id="div-other-collaborators-2" style="display:none;">
              <input id="input-con-others" class="form-container-input-bf"/>
            </div>
            <div class="form-container-ds"><font color="black"> ORCID ID*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                If contributor doesn't have an ORCID ID, we suggest they sign up for one at <a href="https://orcid.org" style="color:white"> https://orcid.org </a>
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-con-ID" class="form-container-input-bf">
            </div>
            <div class="form-container-ds"><font color="black"> Contributor Affiliation*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Institutional affiliation for contributor. Hit "Enter" on your keyboard after each entry to register it.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="input-con-affiliation" class="form-container-textarea"></textarea>
            </div>
            <div class="form-container-ds"><font color="black"> Contributor Role*: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                 Role(s) of the contributor as per the Data Cite schema (c.f. associated dropdown list). Hit "Enter" after each entry to register it. Checkout the related <a href="https://schema.datacite.org/meta/kernel-4.3/" style="color:white"> documentation</a> for a definition of each of these roles.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="input-con-role" class="form-container-textarea"></textarea>
            </div>
            <div class="form-container-ds"><font color="black"> Is Contact person? </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Check if the contributor is a contact person for the dataset. At least one and only one of the contributors should be the contact person.
                <br><br>
                Click "Add" to add contributors to SODA's contributor table. Each contributor added to the table will be added to the dataset description file when it is generated.
              </span>
            </div>
            <div class="demo-controls">
              <label class="switch">
                <input id="ds-contact-person" name="contact-person" type="checkbox" class="with-style-manifest"/>
                <span class="slider round"></span>
              </label>
            </div>
            <h5></h5>
            <div align="right">
              <button id="button-ds-add-contributor" class="demo-button-prev-next" style="float:right">Add</button>
              <p id='para-save-contributor-status' style="float:right;padding-top:0;margin-right:5px;margin-bottom:0;margin-top:0"></p>
            </div>
            <br><br>
            <div id="div-current-contributors" style="width:100%;margin:0 auto;display:none;overflow-x:scroll">
              <h5 align="center">Current Contributors
              <br>(Move rows up and down to change the order that contributors appear in the dataset_description file)</h5>
              <table id="table-current-contributors">

                <style>
                /* style for grabbed contributor row for moving contributors */
                  .grab { cursor: grab; }
                  .grabbed { box-shadow: 0 0 6px #000; }
                  .grabCursor, .grabCursor * { cursor: grabbing !important; }
                </style>
                <tr>
                  <th style="width:20%">Current Contributors</th>
                  <th style="width:20%">ORCID ID</th>
                  <th style="width:30%">Affiliation</th>
                  <th style="width:20%">Role</th>
                  <th style="width:10%">Contact Person</th>
                  <th style="width:5%"></th>
                </tr>
              </table>
            </div>
            <br><br><br>
            <div>
              <button id="button-prev-contributor-ds" class="demo-button-prev-next">Previous</button>
              <button id="button-next-contributor-misc" style="float:right" class="demo-button-prev-next">Next</button>
            </div>
          </div>

      <!-- Protocols and Articles Info -->
          <div id="div-ds-misc-info" style="width:90%;margin: 0 auto;font-size:13px" class="datasetsaveoption">
            <br><br><br>
            <div id="show-add-link-description">
            <div class="form-container-ds"><font color="black"> Link type: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="z-index:3;">
                Select the nature of the link:
                <br><br>
                - Protocol URLs or DOIs: URLs (if still private) / DOIs (if public) of protocols from protocols.io related to this dataset.
                <br><br>
                - Originating Article DOIs: DOIs of published articles that were generated from this dataset.
                <br><br>
                - Additional links: URLs of additional resources used by this dataset (e.g., a link to a code repository).
                <br><br>
                Note that at least one "Protocol URLs or DOIs" link is mandatory. The remaining is optional.
              </span>
            </div>
            <div class="demo-controls">
              <select id="select-misc-link" class="form-container-input-bf" style="font-size:13px;line-height:2;height:28px">
                <option value="Select" disabled>Select an option</option>
                <option value="Protocol URL or DOI*">Protocol URL or DOI*</option>
                <option value="Originating Article DOI">Originating Article DOI</option>
                <option value="Additional Link">Additional Link</option>
              </select>
            </div>
            <div class="form-container-ds"><font color="black"> Link: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Enter the link.
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-misc-links" class="form-container-input-bf" style="font-size:13px;line-height:2;height:28px"/>
            </div>
            <div class="form-container-ds"><font color="black"> Link Description: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Optionally provide a short description of the link.
                <br><br>
                Click on "Add" to register specified link to SODA's link table. All links and descriptions added to the table will be included in your dataset description file when it is generated.
              </span>
            </div>
            <div class="demo-controls">
              <textarea id="input-misc-link-description" class="form-container-textarea"></textarea>
            </div>
            <div>
              <button id="button-ds-add-link" class="demo-button-prev-next" style="float:right">Add</button>
              <p id='para-save-link-status' style="float:right;padding-top:0;margin-right:5px;margin-bottom:0;margin-top:0"></p>
            </div>
            <br><br><br><br>
          </div>
          <div id="div-current-additional-links" style="width:100%;margin: 0 auto;display:none;overflow-x:scroll">
            <h5 align="center">Current Links:</h5>
            <table id="table-addl-links">
              <tr>
                <th style="width:15%">Link type</th>
                <th style="width:30%">Link</th>
                <th style="width:45%">Description</th>
                <th style="width:10%"></th>
             </tr>
            </table>
            <br><br><br>
          </div>
            <div>
              <button id="button-prev-misc-contributor" class="demo-button-prev-next">Previous</button>
              <button id="button-next-misc-optional" style="float:right" class="demo-button-prev-next">Next</button>
            </div>
          </div>


          <!-- Completeness Info -->
          <div id="div-ds-optional-info" style="width:90%;margin: 0 auto;font-size:13px" class="datasetsaveoption">
            <br><br><br>
            <div class="form-container-ds" style="width:230px"><font color="black"> Completeness of dataset: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Is the data set as uploaded complete or is it part of an ongoing study? Select "hasNext" to indicate that you expect more data on different subjects as a continuation of this study. Select “hasChildren” to indicate that you expect more data on the same subjects or samples derived from those subjects. Leave empty if none.
              </span>
            </div>
            <div class="demo-controls">
              <input id="ds-completeness" class="form-container-input-bf" style="border-left: 2px solid #258193;"> </input>
            </div>
            <div class="form-container-ds" style="width:230px"><font color="black"> Parent dataset(s): </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                If this is a part of a larger dataset, or references subjects or samples from a parent dataset, select the prior dataset. You need only the last dataset, not all datasets. If samples and subjects are from multiple parent datasets please select them all. Leave empty if none.
                <br><br>
                Tip: Start typing to see the name of your dataset, and then press Enter to add your dataset.
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-parent-ds" class="form-container-input-bf" style="border-left: 2px solid #258193;">
              </input>
            </div>
            <div class="form-container-ds" style="width:230px"><font color="black"> Title for complete dataset: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext">
                Please give us a provisional title for the entire data set. Leave empty if not applicable.
                <br><br>
                After you complete all steps, click on "Generate" to generate your dataset description file. A warning message may show up if any mandatory fields are missing. You may decide to go back and address the issues or generate the file anyway (and address the issues later).
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-completeds-title" class="form-container-input-bf" />
            </div>
            <!-- <div class="form-container-ds" style="width:230px"><font color="black"> Metadata Version: </font> </div>
            <div class="tooltipnew"><img class="info" src="assets/img/info.png">
              <span class="tooltiptext" style="width: 300px; font-weight: bold">
                DO NOT CHANGE: 1.2.3
              </span>
            </div>
            <div class="demo-controls">
              <input id="input-metadata-ver" value="1.2.3" disabled class="form-container-input-bf"  style="line-height: 2;height:28px"/>
            </div> -->
            <br><br>
            <div>
              <button id="button-prev-optional-misc" class="demo-button-prev-next">Previous</button>
              <button id="button-generate-ds-description" style="float:right"  class="demo-button-prev-next">Generate</button>
              <p id='para-generate-description-status' style="display:none;float:right;padding-top:0;margin-right:5px;margin-bottom:0;margin-top:0"></p>
            </div>
          </div>
          </div>
        </div>
      </div>


        <!-- Download Metadata -->
      <div class="demo">
        <div class="demo-wrapper">
          <button id="button-new-window-login-demo-toggle" class="js-container-target demo-toggle-button">Download templates
            <a style="padding:0px 0px 0px 10px" class="github-wiki-link" href="https://github.com/bvhpatel/SODA/wiki/Download-templates">
              <img class="nav-video" src="assets/img/documentation-icon.png">
            </a>
            <div class="demo-meta u-avoid-clicks"> Get the templates provided by the SPARC Curation Team to manually fill out metadata files </div>
          </button>

          <div class="demo-box">
            <div class="div-list-metadata">
                  <h5></h5>
                  <button id="a-submission" class="download-metadata">submission.xlsx
                    <img class="download-image" src="assets/img/download-white.png"></img>
                  </button>
                  <h5></h5>
                  <button id="a-description" href="#" class="download-metadata">dataset_description.xlsx
                    <img class="download-image" src="assets/img/download-white.png"></img>
                  </button>
                  <h5></h5>
                  <button id="a-subjects" href="#" class="download-metadata">subjects.xlsx
                    <img class="download-image" src="assets/img/download-white.png"></img>
                  </button>
                  <h5></h5>
                  <button id="a-samples" href="#" class="download-metadata">samples.xlsx
                    <img class="download-image" src="assets/img/download-white.png"></img>
                  </button>
                  <h5></h5>
                  <button id="a-manifest" href="#" class="download-metadata">manifest.xlsx
                    <img class="download-image" src="assets/img/download-white.png"></img>
                  </button>
                </div>
              </div>
            </div>
      </div>


      <script type="text/javascript">
      require('./renderer-process/native-ui/dialogs/save')
      require('./renderer-process/prepare-metadata/save-information.js')
      </script>
  </section>
</template>
